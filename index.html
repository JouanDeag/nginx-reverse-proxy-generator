<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <!-- Custom CSS -->
    <link rel="stylesheet" href="./assets/css/style.css">

    <!-- Custom JavaScript -->
    <script src="./assets/js/index.js"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;400&display=swap" rel="stylesheet">

    <title>Johans Dev - NGINX Reverse Proxy Generator</title>
</head>

<body>
    <!-- Title -->
    <h1 class="s-title">NGINX Reverse Proxy Generator</h1>

    <!-- Endpoint Input -->

    <div class="c-div">
        <input type="text" placeholder="Input Endpoint IP" class="IP list-input">
        <input type="number" placeholder="Input Endpoint Port" class="PORT list-input">
        <input type="button" value="Submit" class="addBtn list-input">
        <input type="button" value="Clear Endpoints" class="clearBtn list-input">
    </div>
    
    <div class="endpoint-list margin-10">
        <ol class="list"></ol>
    </div>
    
    <script>
        const list = document.querySelector('.list');
        const addBtn = document.querySelector(".addBtn");
        const clearBtn = document.querySelector('.clearBtn');
        const ipInput = document.querySelector('.IP');
        const portInput = document.querySelector('.PORT');

        function deleteNote(e) {
        const parent = e.target.parentNode;
        parent.remove();
        }

        function addStuff() {
        
        const port = portInput.value;
        const note = ipInput.value;
        
        if(note.length == 0) return;
            
        const btn = document.createElement('button');
        btn.classList.add('del-btn');
        btn.type = 'button';
        btn.textContent = 'Delete';
        btn.addEventListener("click", (e) => deleteNote(e));
        
        const li = document.createElement('li');
        li.textContent = `${note}:${port} `;
        li.appendChild(btn);
        
        list.appendChild(li);
        
        portInput.value = "";
        }

        function clearEndpoints() {
        list.innerHTML  = ''
        portInput.value = "";
        ipInput.value = "";
        }

        addBtn.addEventListener("click", addStuff);
        clearBtn.addEventListener("click", clearEndpoints);       
    </script>

    <div class="c-div gen-div">
        <input type="button" value="Generate Config" class="btn gen-btn">
    </div>

<pre class="c-div">
    <code class="finalconfig">
user www-data;
worker_processes auto;
pid /run/nginx.pid;
load_module /usr/lib/nginx/modules/ngx_stream_module.so;
    </code>
</pre>

    <div class="c-div gen-div">
        <button onClick="clipboard()" class="btn">Copy Configuration</button>
    </div>

    <footer id="footer" class="c-div">
        <div id="footer-content"><a href="https://github.com/JouanDeag/nginx-reverse-proxy-generator" target="_blank" class="no-highlight">Copyright &copy; 2021 Johan Karlsson</a></div>
    </footer>

</body>

</html>